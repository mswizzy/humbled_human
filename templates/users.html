{% extends 'base.html' %}

{% block title %} Humbled Human Administration {% endblock %}


{% block body %} 

<h1>Admin Page</h1>
<hr>
<p>Humbled Human - All Users</p>
<h3>All current users</h3>
  <hr>
  <p><a href="{{ url_for('admin_add_user') }}">Add a new user</a></p>
  <hr>

  <br>
  {% if all_users %}
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Organization</th>
                <th>DOB</th>
                <th>Role</th>
                <th>Date Added</th>
                <th>Date Modified</th>
            </tr>
        </thead>

        <tbody>
            {% for row in all_users %}
            <tr>
                <td> {{ row['username'] }}</td>
                <td> {{ row['first_name'] }}</td>
                <td> {{ row['last_name'] }}</td>
                <td> {{ row['email'] }}</td>
                <td> {{ row['organization'] }}</td>
                <td> {{ row['dob'] }}</td>
                <td> {{ row['role'] }}</td>
                <td> {{ row['date_added'] }}</td>
                <td> {{ row['date_modified'] }}</td>
            
                <td><form action="{{ url_for('admin_delete_user', user_id=row['_id']) }}" method="POST">
                    <input type="submit" value="Delete"  />
                </form>    </td>

                <td><form action="{{ url_for('admin_edit_user', user_id=row['_id']) }}" method="POST">
                    <input type="submit" value="Details"  />
                </form>    </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

{% endblock %}